<!DOCTYPE html>
<html lang="{{ site.lang | default: 'ar' }}" dir="{{ site.direction | default: 'rtl' }}">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    
    <!-- Page Title -->
    <title>{% if page.title %}{{ page.title }} - {{ site.title }}{% else %}{{ site.title }}{% endif %}</title>
    
    <!-- Meta Tags for SEO & Social Sharing -->
    <meta name="description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}"/>
    <meta property="og:title" content="{% if page.title %}{{ page.title }} - {{ site.title }}{% else %}{{ site.title }}{% endif %}"/>
    <meta property="og:description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}"/>
    <meta property="og:type" content="{% if page.layout == 'post' %}article{% else %}website{% endif %}"/>
    <meta property="og:image" content="{{ site.url }}{{ site.baseurl }}/{% if page.image %}{{ page.image }}{% else %}images/neofikr-default.jpg{% endif %}"/>
    <meta property="og:url" content="{{ site.url }}{{ site.baseurl }}{{ page.url }}"/>
    <meta name="twitter:title" content="{% if page.title %}{{ page.title }} - {{ site.title }}{% else %}{{ site.title }}{% endif %}"/>
    <meta name="twitter:description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}"/>
    <meta name="twitter:image" content="{{ site.url }}{{ site.baseurl }}/{% if page.image %}{{ page.image }}{% else %}images/neofikr-default.jpg{% endif %}"/>
    <meta name="twitter:card" content="summary_large_image"/> 

    <!-- External Resources -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;900&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&amp;display=swap" rel="stylesheet"/>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="{{ site.baseurl }}/js/config.js"></script> 
    <link href="{{ site.baseurl }}/css/styles.css" rel="stylesheet"/>

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "{{ site.title }}",
      "url": "{{ site.url }}{{ site.baseurl }}/",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "{{ site.url }}{{ site.baseurl }}/?q={search_term_string}",
        "query-input": "required name=search_term_string"
      },
      "publisher": {
        "@type": "Organization",
        "name": "{{ site.title }}",
        "url": "{{ site.url }}{{ site.baseurl }}/",
        "logo": {
          "@type": "ImageObject",
          "url": "{{ site.url }}{{ site.baseurl }}/images/logo.png"
        }
      }
    }
    </script>
    
    {% if page.layout == 'post' %}
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "{{ page.title }}",
      "datePublished": "{{ page.date | date_to_xmlschema }}",
      "dateModified": "{% if page.last_modified_at %}{{ page.last_modified_at | date_to_xmlschema }}{% else %}{{ page.date | date_to_xmlschema }}{% endif %}",
      "author": {
        "@type": "Person",
        "name": "{% if page.author %}{{ page.author }}{% else %}{{ site.title }}{% endif %}"
      },
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "{{ site.url }}{{ site.baseurl }}{{ page.url }}"
      },
      "publisher": {
        "@type": "Organization",
        "name": "{{ site.title }}",
        "logo": {
          "@type": "ImageObject",
          "url": "{{ site.url }}{{ site.baseurl }}/images/logo.png"
        }
      },
      "description": "{{ page.description }}",
      "image": "{{ site.url }}{{ site.baseurl }}/{% if page.image %}{{ page.image }}{% else %}images/neofikr-default.jpg{% endif %}"
    }
    </script>
    {% endif %}
</head>
<body data-effects-floating="true" data-effects-grid="true" data-effects-matrix="true" data-effects-particles="true" data-effects-scanlines="true">
    <!-- Background Elements -->
    <div class="grid-pattern"></div>
    <div class="scanlines"></div>
    <div class="matrix-rain" id="matrixRain"></div>
    <div id="particles-js"></div>
    
    <!-- Header Section -->
    {% include header.html %}

    <!-- Main Content Area -->
    <main>
        {{ content }}
    </main>

    <!-- Footer Section -->
    {% include footer.html %}

    <!-- JavaScript -->
    <script src="{{ site.baseurl }}/js/script.js"></script>
</body>
</html>
